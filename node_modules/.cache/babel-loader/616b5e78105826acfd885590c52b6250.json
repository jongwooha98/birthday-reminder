{"ast":null,"code":"import _objectSpread from\"/Users/jongwooha98/Frontend/react-app/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/jongwooha98/Frontend/react-app/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import List from'./List';function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoaded=_useState4[0],setIsLoaded=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),people=_useState6[0],setPeople=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),birthdayToday=_useState8[0],setBirthdayToday=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),clickedBirthday=_useState10[0],setClickedBirthday=_useState10[1];var _useState11=useState({today:'',clickedDate:''}),_useState12=_slicedToArray(_useState11,2),date=_useState12[0],setDate=_useState12[1];// const today = new Date().toString().slice(4, 10);\n// let clickedDate;\nuseEffect(function(){fetch('https://randomuser.me/api/?results=1000&inc=name,dob,picture,login,email,phone').then(function(res){return res.json();}).then(function(data){setIsLoaded(true);setPeople(data.results);},function(error){setIsLoaded(true);setError(error);});},[]);useEffect(function(){setDate(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{today:new Date().toString().slice(4,10)});});setBirthdayToday(people.filter(function(person){return new Date(new Date(person.dob.date).getTime()+new Date(person.dob.date).getTimezoneOffset()*60000).toString().slice(4,10)===date.today;}));},[people,date.today]);var handleClick=function handleClick(value){setDate(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{clickedDate:value.toString().slice(4,10)});});var filteredBirthday=people.filter(function(person){return new Date(new Date(person.dob.date).getTime()+new Date(person.dob.date).getTimezoneOffset()*60000).toString().slice(4,10)===date.clickedDate;});setClickedBirthday(filteredBirthday);};if(error||!Array.isArray(people)){return/*#__PURE__*/React.createElement(\"div\",{className:\"errorScreen\"},\"Error: \",error.message);}else if(!isLoaded){return/*#__PURE__*/React.createElement(\"div\",{className:\"loadingScreen\"},\"Loading...\");}else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"container today\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Birthday Reminder!\"),/*#__PURE__*/React.createElement(\"h4\",null,\"It's \",date.today,\" today\"),/*#__PURE__*/React.createElement(List,{people:birthdayToday}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"container calendar\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Use calendar to check your friends' birthdays!\"),/*#__PURE__*/React.createElement(Calendar,{className:\"c1\",onChange:handleClick})),/*#__PURE__*/React.createElement(\"section\",{className:\"container upcoming\"},date.clickedDate===''?null:/*#__PURE__*/React.createElement(\"h2\",null,\"Birthday on \",date.clickedDate),/*#__PURE__*/React.createElement(List,{people:clickedBirthday})))));}}export default App;","map":{"version":3,"sources":["/Users/jongwooha98/Frontend/react-app/birthday-reminder/src/App.js"],"names":["React","useState","useEffect","Calendar","List","App","error","setError","isLoaded","setIsLoaded","people","setPeople","birthdayToday","setBirthdayToday","clickedBirthday","setClickedBirthday","today","clickedDate","date","setDate","fetch","then","res","json","data","results","prevState","Date","toString","slice","filter","person","dob","getTime","getTimezoneOffset","handleClick","value","filteredBirthday","Array","isArray","message"],"mappings":"2VAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,MAAO,kCAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,QAASC,CAAAA,GAAT,EAAe,eACaJ,QAAQ,EADrB,wCACNK,KADM,eACCC,QADD,8BAEmBN,QAAQ,CAAC,KAAD,CAF3B,yCAENO,QAFM,eAEIC,WAFJ,8BAGeR,QAAQ,CAAC,EAAD,CAHvB,yCAGNS,MAHM,eAGEC,SAHF,8BAI6BV,QAAQ,EAJrC,yCAINW,aAJM,eAISC,gBAJT,8BAKiCZ,QAAQ,CAAC,EAAD,CALzC,0CAKNa,eALM,gBAKWC,kBALX,gCAMWd,QAAQ,CAAC,CAC/Be,KAAK,CAAE,EADwB,CAE/BC,WAAW,CAAE,EAFkB,CAAD,CANnB,2CAMNC,IANM,gBAMAC,OANA,gBAWb;AACA;AAEAjB,SAAS,CAAC,UAAM,CACdkB,KAAK,CACH,gFADG,CAAL,CAGGC,IAHH,CAGQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAHR,EAIGF,IAJH,CAKI,SAACG,IAAD,CAAU,CACRf,WAAW,CAAC,IAAD,CAAX,CACAE,SAAS,CAACa,IAAI,CAACC,OAAN,CAAT,CACD,CARL,CASI,SAACnB,KAAD,CAAW,CACTG,WAAW,CAAC,IAAD,CAAX,CACAF,QAAQ,CAACD,KAAD,CAAR,CACD,CAZL,EAcD,CAfQ,CAeN,EAfM,CAAT,CAiBAJ,SAAS,CAAC,UAAM,CACdiB,OAAO,CAAC,SAACO,SAAD,wCACHA,SADG,MAENV,KAAK,CAAE,GAAIW,CAAAA,IAAJ,GAAWC,QAAX,GAAsBC,KAAtB,CAA4B,CAA5B,CAA+B,EAA/B,CAFD,IAAD,CAAP,CAIAhB,gBAAgB,CACdH,MAAM,CAACoB,MAAP,CACE,SAACC,MAAD,QACE,IAAIJ,CAAAA,IAAJ,CACE,GAAIA,CAAAA,IAAJ,CAASI,MAAM,CAACC,GAAP,CAAWd,IAApB,EAA0Be,OAA1B,GACE,GAAIN,CAAAA,IAAJ,CAASI,MAAM,CAACC,GAAP,CAAWd,IAApB,EAA0BgB,iBAA1B,GAAgD,KAFpD,EAIGN,QAJH,GAKGC,KALH,CAKS,CALT,CAKY,EALZ,IAKoBX,IAAI,CAACF,KAN3B,EADF,CADc,CAAhB,CAWD,CAhBQ,CAgBN,CAACN,MAAD,CAASQ,IAAI,CAACF,KAAd,CAhBM,CAAT,CAkBA,GAAMmB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC7BjB,OAAO,CAAC,SAACO,SAAD,wCACHA,SADG,MAENT,WAAW,CAAEmB,KAAK,CAACR,QAAN,GAAiBC,KAAjB,CAAuB,CAAvB,CAA0B,EAA1B,CAFP,IAAD,CAAP,CAIA,GAAIQ,CAAAA,gBAAgB,CAAG3B,MAAM,CAACoB,MAAP,CACrB,SAACC,MAAD,QACE,IAAIJ,CAAAA,IAAJ,CACE,GAAIA,CAAAA,IAAJ,CAASI,MAAM,CAACC,GAAP,CAAWd,IAApB,EAA0Be,OAA1B,GACE,GAAIN,CAAAA,IAAJ,CAASI,MAAM,CAACC,GAAP,CAAWd,IAApB,EAA0BgB,iBAA1B,GAAgD,KAFpD,EAIGN,QAJH,GAKGC,KALH,CAKS,CALT,CAKY,EALZ,IAKoBX,IAAI,CAACD,WAN3B,EADqB,CAAvB,CASAF,kBAAkB,CAACsB,gBAAD,CAAlB,CACD,CAfD,CAiBA,GAAI/B,KAAK,EAAI,CAACgC,KAAK,CAACC,OAAN,CAAc7B,MAAd,CAAd,CAAqC,CACnC,mBAAO,2BAAK,SAAS,CAAC,aAAf,YAAqCJ,KAAK,CAACkC,OAA3C,CAAP,CACD,CAFD,IAEO,IAAI,CAAChC,QAAL,CAAe,CACpB,mBAAO,2BAAK,SAAS,CAAC,eAAf,eAAP,CACD,CAFM,IAEA,CACL,mBACE,qDACE,6CACE,4CACE,+BAAS,SAAS,CAAC,iBAAnB,eACE,mDADF,cAEE,sCAAUU,IAAI,CAACF,KAAf,UAFF,cAGE,oBAAC,IAAD,EAAM,MAAM,CAAEJ,aAAd,EAHF,CADF,CADF,cAQE,4CACE,+BAAS,SAAS,CAAC,oBAAnB,eACE,+EADF,cAEE,oBAAC,QAAD,EAAU,SAAS,CAAC,IAApB,CAAyB,QAAQ,CAAEuB,WAAnC,EAFF,CADF,cAKE,+BAAS,SAAS,CAAC,oBAAnB,EACGjB,IAAI,CAACD,WAAL,GAAqB,EAArB,CAA0B,IAA1B,cACC,6CAAiBC,IAAI,CAACD,WAAtB,CAFJ,cAIE,oBAAC,IAAD,EAAM,MAAM,CAAEH,eAAd,EAJF,CALF,CARF,CADF,CADF,CAyBD,CACF,CAED,cAAeT,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport List from './List';\nfunction App() {\n  const [error, setError] = useState();\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [people, setPeople] = useState([]);\n  const [birthdayToday, setBirthdayToday] = useState();\n  const [clickedBirthday, setClickedBirthday] = useState([]);\n  const [date, setDate] = useState({\n    today: '',\n    clickedDate: '',\n  });\n\n  // const today = new Date().toString().slice(4, 10);\n  // let clickedDate;\n\n  useEffect(() => {\n    fetch(\n      'https://randomuser.me/api/?results=1000&inc=name,dob,picture,login,email,phone'\n    )\n      .then((res) => res.json())\n      .then(\n        (data) => {\n          setIsLoaded(true);\n          setPeople(data.results);\n        },\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      );\n  }, []);\n\n  useEffect(() => {\n    setDate((prevState) => ({\n      ...prevState,\n      today: new Date().toString().slice(4, 10),\n    }));\n    setBirthdayToday(\n      people.filter(\n        (person) =>\n          new Date(\n            new Date(person.dob.date).getTime() +\n              new Date(person.dob.date).getTimezoneOffset() * 60000\n          )\n            .toString()\n            .slice(4, 10) === date.today\n      )\n    );\n  }, [people, date.today]);\n\n  const handleClick = (value) => {\n    setDate((prevState) => ({\n      ...prevState,\n      clickedDate: value.toString().slice(4, 10),\n    }));\n    let filteredBirthday = people.filter(\n      (person) =>\n        new Date(\n          new Date(person.dob.date).getTime() +\n            new Date(person.dob.date).getTimezoneOffset() * 60000\n        )\n          .toString()\n          .slice(4, 10) === date.clickedDate\n    );\n    setClickedBirthday(filteredBirthday);\n  };\n\n  if (error || !Array.isArray(people)) {\n    return <div className=\"errorScreen\">Error: {error.message}</div>;\n  } else if (!isLoaded) {\n    return <div className=\"loadingScreen\">Loading...</div>;\n  } else {\n    return (\n      <>\n        <main>\n          <div>\n            <section className=\"container today\">\n              <h1>Birthday Reminder!</h1>\n              <h4>It's {date.today} today</h4>\n              <List people={birthdayToday} />\n            </section>\n          </div>\n          <div>\n            <section className=\"container calendar\">\n              <h4>Use calendar to check your friends' birthdays!</h4>\n              <Calendar className=\"c1\" onChange={handleClick} />\n            </section>\n            <section className=\"container upcoming\">\n              {date.clickedDate === '' ? null : (\n                <h2>Birthday on {date.clickedDate}</h2>\n              )}\n              <List people={clickedBirthday} />\n            </section>\n          </div>\n        </main>\n      </>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}